(this["webpackJsonptic-tac-two"]=this["webpackJsonptic-tac-two"]||[]).push([[0],{78:function(e,t,c){},79:function(e,t,c){},90:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(16),i=c.n(r),s=(c(78),c(79),c(19)),l=c(128),o=c(125),j=c(131),u=c(121),d=c(54),b={apiKey:"AIzaSyDyxR_SwWR-JeUvI-udOuXE7KCdEqHh1T0",authDomain:"tic-tac-two-d3477.firebaseapp.com",databaseURL:"https://tic-tac-two-d3477-default-rtdb.firebaseio.com",projectId:"tic-tac-two-d3477",storageBucket:"tic-tac-two-d3477.appspot.com",messagingSenderId:"315005811898",appId:"1:315005811898:web:90c046cbd735eb84741683",measurementId:"G-H4BW3WB4SN"};d.a.initializeApp(b);var O=d.a.database(),v=c(6),m=n.a.createContext();function f(e){var t=e.children,c=Object(a.useState)(null),n=Object(s.a)(c,2),r=n[0],i=n[1],l=Object(a.useState)(null),o=Object(s.a)(l,2),j=o[0],u=o[1],d=Object(a.useState)(0),b=Object(s.a)(d,2),f=b[0],x=b[1],h=Object(a.useState)([0,0]),g=Object(s.a)(h,2),p=g[0],y=g[1],k=Object(a.useState)(Array(9).fill(null)),S=Object(s.a)(k,2),w=S[0],I=S[1],P=Object(a.useState)([0,1,2,3,4,5]),C=Object(s.a)(P,2),E=C[0],N=C[1];return Object(a.useEffect)((function(){!function(){var e;console.log("helllo dude"),e=0===j?1:0;var t={};t["/games/"+r]={nextPlayer:e,nicknames:p,board:w},O.ref().update(t)}()}),[w,r]),Object(a.useEffect)((function(){console.log("called"),O.ref("/").on("value",(function(e){console.log(e.val());var t=e.val();if(t.games[r].board){for(var c=Array(9).fill(null),a=0;a<8;a++)t.games[r].board[a]&&(c[a]=t.games[r].board[a]);I(c),y(t.games[r].nicknames),console.log("QWRETRYT",t.games[r].nextPlayer),x(t.games[r].nextPlayer)}}))}),[r]),Object(v.jsx)(m.Provider,{value:{gameId:r,board:w,pieces:E,player:j,nicknames:p,currentPlayer:f,setGameId:i,setBoard:I,setPieces:N,setPlayer:u,setNicknames:y},children:t})}function x(){var e=n.a.useContext(m);if(void 0===e)throw new Error("playGame must be used within a GameProvider");return e}var h=function(e){var t=e.nickname,c=x(),a=c.setGameId,n=c.setPlayer,r=c.nicknames,i=c.setNicknames;return Object(v.jsxs)("div",{children:[Object(v.jsxs)(u.a,{children:["Hello ",t,"!"]}),Object(v.jsx)(l.a,{id:"join-game",label:"Enter code",variant:"outlined"}),Object(v.jsx)(j.a,{variant:"contained",onClick:function(){console.log("poop");var e=document.getElementById("join-game").value;null!==e&&(console.log("success",e),a(e),n(1),r[0]=t,i(r))},children:"Join Room"})]})},g=function(e){var t=e.nickname,c=e.gameCode,a=x(),n=a.setGameId,r=a.setPlayer,i=a.nicknames,s=a.setNicknames;return Object(v.jsxs)("div",{children:[Object(v.jsxs)(u.a,{children:["Hello ",t,"!"]}),Object(v.jsx)(u.a,{children:c}),Object(v.jsx)(j.a,{variant:"contained",onClick:function(){n(c),r(0),i[0]=t,s(i)},children:"Start Game"})]})},p=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(!1),i=Object(s.a)(r,2),u=i[0],d=i[1],b=Object(a.useState)(!1),O=Object(s.a)(b,2),m=O[0],f=O[1],x=Object(a.useState)(null),p=Object(s.a)(x,2),y=p[0],k=p[1],S=function(){return""!==c},w=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",c=0;c<4;c++)e+=t.charAt(Math.floor(Math.random()*t.length));return e};return Object(v.jsxs)("div",{children:[Object(v.jsx)(l.a,{id:"outlined-basic",label:"Enter nickname",variant:"outlined",onChange:function(e){n(e.target.value)}}),Object(v.jsxs)(o.a,{container:!0,children:[Object(v.jsx)(o.a,{item:!0,children:Object(v.jsx)(j.a,{onClick:function(){S()&&(f(!0),d(!1),k(w))},variant:"contained",children:"Create Game"})}),Object(v.jsx)(o.a,{item:!0}),Object(v.jsx)(o.a,{item:!0,children:Object(v.jsx)(j.a,{onClick:function(){S()&&(d(!0),f(!1))},variant:"contained",children:"Join Existing Game"})})]}),u&&Object(v.jsx)(h,{nickname:c}),m&&Object(v.jsx)(g,{nickname:c,gameCode:y})]})},y=c(55),k=c(130),S=c(129),w=function(e){var t=e.value,c=x(),a=c.player,n=c.currentPlayer,r=Object(S.a)((function(){return{type:"circle",item:{id:t},canDrag:a==n,collect:function(e){return{isDragging:!!e.isDragging()}}}})),i=Object(s.a)(r,2),l=(i[0].isDragging,i[1]);return Object(v.jsx)("div",{id:"circle-".concat(t),ref:l,className:"circle size-".concat(t," circle_p").concat(t<6?0:1),children:null!=t&&1==a?t+6:t})},I=function(e){var t=e.value,c=x(),n=c.board,r=c.setBoard,i=(c.pieces,c.setPieces,c.player,Object(a.useState)(null)),l=Object(s.a)(i,2),o=l[0],j=l[1],u=Object(k.a)((function(){return{accept:"circle",drop:function(e){return O(e.id)},collect:function(e){return{isOver:!!e.isOver()}}}}),[n]),d=Object(s.a)(u,2),b=(d[0].isOver,d[1]),O=function(e){(null===n[t]||e>n[t])&&(r([].concat(Object(y.a)(n.slice(0,t)),[e],Object(y.a)(n.slice(t+1)))),j(e))};return Object(v.jsx)("div",{id:t,ref:b,className:"square",children:o>=0?Object(v.jsx)(w,{value:n[t]}):Object(v.jsx)("div",{})})},P=c(127),C=c(67),E=function(){var e=x(),t=e.gameId,c=e.board,n=e.pieces,r=(e.nicknames,e.currentPlayer),i=e.player;Object(a.useEffect)((function(){s()}),[c]);var s=function(){for(var e=0;e<3;e++){if(c[0+e]===c[1+e]&&c[1+e]===c[2+e]&&null!==c[0+e])return!0;if(c[0+e]===c[3+e]&&c[3+e]===c[6+e]&&null!==c[6+e])return!0}return c[0]===c[4]&&c[4]===c[8]&&null!=c[8]||c[2]===c[4]&&c[4]===c[6]&&null!=c[6]};return Object(v.jsx)("div",{children:Object(v.jsxs)(P.a,{backend:C.a,children:[Object(v.jsxs)("div",{children:["room: ",t]}),Object(v.jsxs)("div",{children:["current player: ",r]}),Object(v.jsxs)("div",{children:["me ",i]}),Object(v.jsxs)("div",{className:"board-row",children:[Object(v.jsx)(I,{value:0}),Object(v.jsx)(I,{value:1}),Object(v.jsx)(I,{value:2})]}),Object(v.jsxs)("div",{className:"board-row",children:[Object(v.jsx)(I,{value:3}),Object(v.jsx)(I,{value:4}),Object(v.jsx)(I,{value:5})]}),Object(v.jsxs)("div",{className:"board-row",children:[Object(v.jsx)(I,{value:6}),Object(v.jsx)(I,{value:7}),Object(v.jsx)(I,{value:8})]}),n.map((function(e){return Object(v.jsx)(w,{value:e})}))]})})};var N=function(){var e=x().gameId;return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)("header",{className:"App-header",children:null===e?Object(v.jsx)(p,{}):Object(v.jsx)(E,{})})})},G=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,133)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),r(e),i(e)}))};i.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(f,{children:Object(v.jsx)(N,{})})}),document.getElementById("root")),G()}},[[90,1,2]]]);
//# sourceMappingURL=main.5569bf86.chunk.js.map